(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49386fff"],{"01bb":function(e,t,n){"use strict";n("3cd0"),n("6f08")},"02ba":function(e,t,n){},"02f4":function(e,t,n){var a=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var r,o,s=String(i(t)),c=a(n),l=s.length;return c<0||c>=l?e?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):r:e?s.slice(c,c+2):o-56320+(r-55296<<10)+65536)}}},"03a2":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"omsp-task-detail",attrs:{id:"taskDetail"}},[n("van-tabs",{attrs:{"offset-top":66,animated:"",sticky:"","lazy-render":!0},model:{value:e.tabNum,callback:function(t){e.tabNum=t},expression:"tabNum"}},[n("van-tab",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n        基本信息\n      ")]),n("task-form",{attrs:{bsid:e.task.bsid,"biz-code":e.task.biz_code}}),n("div")],1),n("van-tab",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n        经办流程\n      ")]),n("process-progress",{attrs:{"process-id":e.task.processInstanceId||e.task.proc_inst_id_}})],1),1===e.type?n("van-tab",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n        操作\n      ")]),n("div",{staticClass:"omsp-panel"},[n("van-cell-group",[e.operationForm[0].showing||e.operationForm[1].showing?n("van-field",{attrs:{"input-align":"right",required:"",clearable:"",label:"下一步提交到",placeholder:"点击选择下一节点",clickable:"","right-icon":"arrow",readonly:""},on:{click:function(t){e.operationForm[0].selectShowing=!0}},model:{value:e.operationForm[0].zhValue,callback:function(t){e.$set(e.operationForm[0],"zhValue",t)},expression:"operationForm[0].zhValue"}}):e._e(),e.operationForm[1].showing?n("van-field",{attrs:{"input-align":"right",required:"",clearable:"",label:"下一步可办人",placeholder:"点击选择人员",clickable:"","right-icon":"arrow",readonly:""},on:{click:function(t){e.operationForm[1].selectShowing=!0}},model:{value:e.operationForm[1].zhValue,callback:function(t){e.$set(e.operationForm[1],"zhValue",t)},expression:"operationForm[1].zhValue"}}):e._e()],1),e.operationForm[2].showing?n("div",{staticClass:"omsp-panel"},[n("van-row",[n("van-col",{attrs:{span:"24"}},[e._v("\n              是否通过\n            ")])],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[n("van-radio-group",{attrs:{value:e.operationForm[2].value}},[n("van-cell-group",[n("van-cell",{attrs:{title:"通过",clickable:"","data-name":"1"},on:{click:function(t){return e.checkIsPass("1")}}},[n("van-radio",{attrs:{slot:"right-icon",name:"1"},slot:"right-icon"})],1),n("van-cell",{attrs:{title:"不通过",clickable:"","data-name":"2"},on:{click:function(t){return e.checkIsPass("2")}}},[n("van-radio",{attrs:{slot:"right-icon",name:"2"},slot:"right-icon"})],1)],1)],1)],1)],1)],1):e._e(),e.operationForm[3].showing?n("div",{staticClass:"omsp-panel"},[n("van-row",[n("van-col",{attrs:{span:"24"}},[e._v("\n              否进入发布\n            ")])],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[n("van-radio-group",{attrs:{value:e.operationForm[3].value}},[n("van-cell-group",[n("van-cell",{attrs:{title:"是",clickable:"","data-name":"1"},on:{click:function(t){return e.checkIsRelease("1")}}},[n("van-radio",{attrs:{slot:"right-icon",name:"1"},slot:"right-icon"})],1),n("van-cell",{attrs:{title:"否",clickable:"","data-name":"2"},on:{click:function(t){return e.checkIsRelease("2")}}},[n("van-radio",{attrs:{slot:"right-icon",name:"2"},slot:"right-icon"})],1)],1)],1)],1)],1)],1):e._e(),n("div",{staticClass:"omsp-panel"},[n("van-row",[n("van-col",{attrs:{span:"24"}},[e._v("\n              经办意见\n            ")])],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[n("van-field",{attrs:{"label-width":"0px",type:"textarea",placeholder:"请输入经办意见",rows:"2",autosize:e.opinionsTextarea,clearable:""},model:{value:e.operationForm[e.fnFindIndexOperationByKey("aduitIdea")].value,callback:function(t){e.$set(e.operationForm[e.fnFindIndexOperationByKey("aduitIdea")],"value",t)},expression:"operationForm[fnFindIndexOperationByKey('aduitIdea')].value"}})],1)],1)],1),n("van-button",{staticClass:"omsp-commit-button",attrs:{type:"primary",size:"large",color:"#1A88E9"},on:{click:e.commitOpinions}},[e._v("提交\n        ")])],1)]):e._e(),e.formData.showAttachment?n("van-tab",{attrs:{title:"附件信息"}},[n("task-file",{attrs:{bsid:e.task.bsid,task:e.task,type:e.type,biz_code:e.task.biz_code}})],1):e._e()],1),n("van-popup",{attrs:{position:"bottom"},model:{value:e.operationForm[0].selectShowing,callback:function(t){e.$set(e.operationForm[0],"selectShowing",t)},expression:"operationForm[0].selectShowing"}},[n("van-picker",{attrs:{columns:e.formData.nextNodeList?e.formData.nextNodeList.map((function(e){return e.name})):[],"show-toolbar":"",title:"下一步节点"},on:{cancel:function(t){e.operationForm[0].selectShowing=!1},confirm:e.changeNextNode}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:e.operationForm[1].selectShowing,callback:function(t){e.$set(e.operationForm[1],"selectShowing",t)},expression:"operationForm[1].selectShowing"}},[n("van-picker",{attrs:{columns:e.formData.nodeUserList?e.formData.nodeUserList.map((function(e){return e.name})):[],"show-toolbar":"",title:"可办人员"},on:{cancel:function(t){e.operationForm[1].selectShowing=!1},confirm:e.checkNextUser}})],1)],1)},i=[],r=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("20d6"),n("433b"),n("d399")),o=(n("7514"),n("ac6a"),n("c5f6"),n("bd86")),s=(n("b342"),n("ad06")),c=(n("8990"),n("5e46")),l=(n("558f"),n("0b33")),d=(n("8e11"),n("f253")),u=(n("87d0"),n("e41f")),m=(n("3cd0"),n("1812"),n("1a44"),n("acc2"),n("5e5e"),n("25bb"),n("e543"),n("c31d")),p=n("2638"),f=n.n(p),h=n("d282"),g=n("ba31"),b=n("b1d2"),v=n("6605"),y=n("543e"),F=Object(h["a"])("action-sheet"),k=F[0],_=F[1];function S(e,t,n,a){var i=t.title,r=t.cancelText;function o(){Object(g["a"])(a,"input",!1),Object(g["a"])(a,"cancel")}function c(){if(i)return e("div",{class:_("header")},[i,e(s["a"],{attrs:{name:t.closeIcon},class:_("close"),on:{click:o}})])}function l(){if(n.default)return e("div",{class:_("content")},[n.default()])}function d(n,i){var r=n.disabled,o=n.loading,s=n.callback;function c(e){e.stopPropagation(),r||o||(s&&s(n),Object(g["a"])(a,"select",n,i),t.closeOnClickAction&&Object(g["a"])(a,"input",!1))}function l(){return o?e(y["a"],{attrs:{size:"20px"}}):[e("span",{class:_("name")},[n.name]),n.subname&&e("span",{class:_("subname")},[n.subname])]}return e("button",{attrs:{type:"button"},class:[_("item",{disabled:r,loading:o}),n.className,b["e"]],style:{color:n.color},on:{click:c}},[l()])}function m(){if(r)return[e("div",{class:_("gap")}),e("button",{attrs:{type:"button"},class:_("cancel"),on:{click:o}},[r])]}var p=t.description&&e("div",{class:_("description")},[t.description]);return e(u["a"],f()([{class:_(),attrs:{position:"bottom",round:t.round,value:t.value,overlay:t.overlay,duration:t.duration,lazyRender:t.lazyRender,lockScroll:t.lockScroll,getContainer:t.getContainer,closeOnPopstate:t.closeOnPopstate,closeOnClickOverlay:t.closeOnClickOverlay,safeAreaInsetBottom:t.safeAreaInsetBottom}},Object(g["b"])(a,!0)]),[c(),p,t.actions&&t.actions.map(d),l(),m()])}S.props=Object(m["a"])(Object(m["a"])({},v["b"]),{},{title:String,actions:Array,duration:[Number,String],cancelText:String,description:String,getContainer:[String,Function],closeOnPopstate:Boolean,closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}});var x,O=k(S),w=(n("a247"),n("9ed2")),L=(n("c65f"),n("2d6d")),j=(n("e9a3"),n("d314")),$=(n("01bb"),n("e27c")),N=(n("608d"),n("9f14")),C=(n("2a53"),n("34e9")),D=(n("3ec1"),n("7744")),T=(n("c625"),n("b650")),I=(n("9eda"),n("565f")),P=(n("76aa"),n("510b")),R=(n("8244"),n("dc0f")),E=(n("4071"),n("a3e2")),z=(n("47d1"),n("9ffb")),B=(n("4bc8"),n("d1e1")),q=(n("da02"),n("6b41")),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[1===e.taskType?n("div",[n("van-cell-group",[n("van-field",{attrs:{"input-align":"right",label:"事件标题",readonly:"",disabled:""},model:{value:e.incidentForm.title,callback:function(t){e.$set(e.incidentForm,"title",t)},expression:"incidentForm.title"}}),n("van-field",{attrs:{"input-align":"right",label:"发生时间","right-icon":"calender-o",readonly:"",disabled:""},model:{value:e.incidentForm.occurDate,callback:function(t){e.$set(e.incidentForm,"occurDate",t)},expression:"incidentForm.occurDate"}}),n("van-field",{attrs:{"input-align":"right",label:"申请人",readonly:"",disabled:""},model:{value:e.incidentForm.username,callback:function(t){e.$set(e.incidentForm,"username",t)},expression:"incidentForm.username"}}),n("van-field",{attrs:{"input-align":"right",label:"申请人电话",readonly:"",disabled:""},model:{value:e.incidentForm.creatUserTel,callback:function(t){e.$set(e.incidentForm,"creatUserTel",t)},expression:"incidentForm.creatUserTel"}}),n("van-field",{attrs:{"input-align":"right",label:"所属部门","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.incidentForm.origin.name,callback:function(t){e.$set(e.incidentForm.origin,"name",t)},expression:"incidentForm.origin.name"}}),n("van-field",{attrs:{"input-align":"right",label:"紧急度","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.incidentForm.urgency.name,callback:function(t){e.$set(e.incidentForm.urgency,"name",t)},expression:"incidentForm.urgency.name"}}),n("van-field",{attrs:{"input-align":"right",label:"事件分类","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.incidentForm.category.name,callback:function(t){e.$set(e.incidentForm.category,"name",t)},expression:"incidentForm.category.name"}}),n("van-field",{attrs:{"input-align":"right",label:"事件级别","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.incidentForm.incidentLevel.name,callback:function(t){e.$set(e.incidentForm.incidentLevel,"name",t)},expression:"incidentForm.incidentLevel.name"}}),n("van-field",{attrs:{"input-align":"right",label:"所属团队","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.incidentForm.team.name,callback:function(t){e.$set(e.incidentForm.team,"name",t)},expression:"incidentForm.team.name"}}),n("van-field",{attrs:{"input-align":"right",label:"所属系统","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.incidentForm.targetSys.name,callback:function(t){e.$set(e.incidentForm.targetSys,"name",t)},expression:"incidentForm.targetSys.name"}})],1),n("van-cell-group",[n("van-panel",{attrs:{title:"事件描述",icon:"comment"}},[n("omsp-editor",{attrs:{disabled:!0},model:{value:e.incidentForm.editorData,callback:function(t){e.$set(e.incidentForm,"editorData",t)},expression:"incidentForm.editorData"}})],1)],1)],1):2===e.taskType?n("div",[n("van-cell-group",[n("van-field",{attrs:{"input-align":"right",label:"问题标题",clickable:"",readonly:"",disabled:""},model:{value:e.problemForm.title,callback:function(t){e.$set(e.problemForm,"title",t)},expression:"problemForm.title"}}),n("van-field",{attrs:{"input-align":"right",label:"提出时间","right-icon":"calender-o",readonly:"",disabled:""},model:{value:e.problemForm.registe_date,callback:function(t){e.$set(e.problemForm,"registe_date",t)},expression:"problemForm.registe_date"}}),n("van-field",{attrs:{"input-align":"right",label:"提出人",readonly:"",disabled:""},model:{value:e.problemForm.register,callback:function(t){e.$set(e.problemForm,"register",t)},expression:"problemForm.register"}}),n("van-field",{attrs:{"input-align":"right",label:"提出人电话",readonly:"",disabled:""},model:{value:e.problemForm.registe_phone,callback:function(t){e.$set(e.problemForm,"registe_phone",t)},expression:"problemForm.registe_phone"}}),n("van-field",{attrs:{"input-align":"right",label:"问题分类","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.problemForm.categoryName,callback:function(t){e.$set(e.problemForm,"categoryName",t)},expression:"problemForm.categoryName"}}),n("van-field",{attrs:{"input-align":"right",label:"紧急度","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.problemForm.urgencyName,callback:function(t){e.$set(e.problemForm,"urgencyName",t)},expression:"problemForm.urgencyName"}}),n("van-field",{attrs:{"input-align":"right",label:"所属团队","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.problemForm.teamName,callback:function(t){e.$set(e.problemForm,"teamName",t)},expression:"problemForm.teamName"}}),n("van-field",{attrs:{"input-align":"right",label:"所属系统","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.problemForm.target_sys_name,callback:function(t){e.$set(e.problemForm,"target_sys_name",t)},expression:"problemForm.target_sys_name"}}),n("van-field",{attrs:{"input-align":"right",label:"发生频率","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.problemForm.occur_frequency_name,callback:function(t){e.$set(e.problemForm,"occur_frequency_name",t)},expression:"problemForm.occur_frequency_name"}}),n("van-field",{attrs:{"input-align":"right",label:"再次发生风险",clickable:"",disabled:""},model:{value:e.problemForm.again_occur_risk,callback:function(t){e.$set(e.problemForm,"again_occur_risk",t)},expression:"problemForm.again_occur_risk"}})],1),n("van-cell-group",[n("van-panel",{attrs:{title:"问题描述",icon:"comment"}},[n("omsp-editor",{attrs:{disabled:!0},model:{value:e.problemForm.description,callback:function(t){e.$set(e.problemForm,"description",t)},expression:"problemForm.description"}})],1)],1)],1):3===e.taskType?n("div",[n("van-cell-group",[n("van-field",{attrs:{"input-align":"right",label:"变更标题",readonly:"",disabled:""},model:{value:e.changeForm.title,callback:function(t){e.$set(e.changeForm,"title",t)},expression:"changeForm.title"}}),n("van-field",{attrs:{"input-align":"right",label:"申请人",readonly:"",disabled:""},model:{value:e.changeForm.applicant,callback:function(t){e.$set(e.changeForm,"applicant",t)},expression:"changeForm.applicant"}}),n("van-field",{attrs:{"input-align":"right",label:"申请人电话",readonly:"",disabled:""},model:{value:e.changeForm.applicant_phone,callback:function(t){e.$set(e.changeForm,"applicant_phone",t)},expression:"changeForm.applicant_phone"}}),n("van-field",{attrs:{"input-align":"right",label:"变更类型","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.changeForm.change_type_name,callback:function(t){e.$set(e.changeForm,"change_type_name",t)},expression:"changeForm.change_type_name"}}),n("van-field",{attrs:{"input-align":"right",label:"优先级","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.changeForm.urgencyName,callback:function(t){e.$set(e.changeForm,"urgencyName",t)},expression:"changeForm.urgencyName"}}),n("van-field",{attrs:{"input-align":"right",label:"所属部门","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.changeForm.originName,callback:function(t){e.$set(e.changeForm,"originName",t)},expression:"changeForm.originName"}}),n("van-field",{attrs:{"input-align":"right",label:"所属团队","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.changeForm.team_name,callback:function(t){e.$set(e.changeForm,"team_name",t)},expression:"changeForm.team_name"}}),n("van-field",{attrs:{"input-align":"right",label:"所属系统","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.changeForm.target_sys_name,callback:function(t){e.$set(e.changeForm,"target_sys_name",t)},expression:"changeForm.target_sys_name"}}),n("van-field",{attrs:{"input-align":"right",label:"变更分类","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.changeForm.categoryName,callback:function(t){e.$set(e.changeForm,"categoryName",t)},expression:"changeForm.categoryName"}}),n("van-field",{attrs:{"input-align":"right",label:"影响范围",readonly:"",disabled:""},model:{value:e.changeForm.effect_scope,callback:function(t){e.$set(e.changeForm,"effect_scope",t)},expression:"changeForm.effect_scope"}})],1),n("van-cell-group",[n("van-panel",{attrs:{title:"变更实施计划",icon:"comment"}},[n("van-field",{attrs:{"label-width":"0px",type:"textarea",rows:"2",autosize:{maxHeight:150,minHeight:50},readonly:"",disabled:""},model:{value:e.changeForm.change_plan,callback:function(t){e.$set(e.changeForm,"change_plan",t)},expression:"changeForm.change_plan"}})],1)],1),n("van-cell-group",[n("van-panel",{attrs:{title:"变更描述",icon:"comment"}},[n("omsp-editor",{attrs:{disabled:!0},model:{value:e.changeForm.change_desc,callback:function(t){e.$set(e.changeForm,"change_desc",t)},expression:"changeForm.change_desc"}})],1)],1)],1):4===e.taskType?n("div",[n("van-cell-group",[n("van-field",{attrs:{"input-align":"right",label:"发布标题",readonly:"",disabled:""},model:{value:e.releaseForm.title,callback:function(t){e.$set(e.releaseForm,"title",t)},expression:"releaseForm.title"}}),n("van-field",{attrs:{"input-align":"right",label:"发布人",readonly:"",disabled:""},model:{value:e.releaseForm.release_user,callback:function(t){e.$set(e.releaseForm,"release_user",t)},expression:"releaseForm.release_user"}}),n("van-field",{attrs:{"input-align":"right",label:"发布时间","right-icon":"calender-o",readonly:"",disabled:""},model:{value:e.releaseForm.release_date,callback:function(t){e.$set(e.releaseForm,"release_date",t)},expression:"releaseForm.release_date"}}),n("van-field",{attrs:{"input-align":"right",label:"所属部门","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.releaseForm.originName,callback:function(t){e.$set(e.releaseForm,"originName",t)},expression:"releaseForm.originName"}}),n("van-field",{attrs:{"input-align":"right",label:"所属团队","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.releaseForm.team_name,callback:function(t){e.$set(e.releaseForm,"team_name",t)},expression:"releaseForm.team_name"}}),n("van-field",{attrs:{"input-align":"right",label:"所属系统","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.releaseForm.target_sys_name,callback:function(t){e.$set(e.releaseForm,"target_sys_name",t)},expression:"releaseForm.target_sys_name"}}),n("van-field",{attrs:{"input-align":"right",label:"优先级","right-icon":"arrow",readonly:"",disabled:""},model:{value:e.releaseForm.urgencyName,callback:function(t){e.$set(e.releaseForm,"urgencyName",t)},expression:"releaseForm.urgencyName"}}),n("van-field",{attrs:{"input-align":"right",label:"发布包名称",readonly:"",disabled:""},model:{value:e.releaseForm.package_name,callback:function(t){e.$set(e.releaseForm,"package_name",t)},expression:"releaseForm.package_name"}}),n("van-field",{attrs:{"input-align":"right",label:"发布包版本",readonly:"",disabled:""},model:{value:e.releaseForm.package_version,callback:function(t){e.$set(e.releaseForm,"package_version",t)},expression:"releaseForm.package_version"}})],1),n("van-cell-group",[n("van-panel",{attrs:{title:"目标SERVER",icon:"comment"}},[n("p",{staticStyle:{color:"green","margin-left":"9%","font-size":"12px"}},[e._v("\n          注：目标server录入格式ip:端口，多个server用;分隔。如：192.168.10.1:8081;192.168.10.1:8082")]),n("van-field",{attrs:{"label-width":"0px",type:"textarea",placeholder:"请输入目标SERVER",rows:"2",autosize:{maxHeight:150,minHeight:50},clearable:"",readonly:"",disabled:""},model:{value:e.releaseForm.target_server,callback:function(t){e.$set(e.releaseForm,"target_server",t)},expression:"releaseForm.target_server"}})],1)],1),n("van-cell-group",[n("van-panel",{attrs:{title:"发布描述",icon:"comment"}},[n("van-field",{attrs:{"label-width":"0px",type:"textarea",placeholder:"请输入发布描述",rows:"2",autosize:{maxHeight:150,minHeight:50},clearable:"",readonly:"",disabled:""},model:{value:e.releaseForm.description,callback:function(t){e.$set(e.releaseForm,"description",t)},expression:"releaseForm.description"}})],1)],1),n("van-cell-group",[n("van-panel",{attrs:{title:"发布内容",icon:"notes-o"}},[n("van-checkbox-group",{model:{value:e.releaseForm.checkBoxResult,callback:function(t){e.$set(e.releaseForm,"checkBoxResult",t)},expression:"releaseForm.checkBoxResult"}},[n("van-list",{attrs:{finished:e.releaseForm.loadFinish,"finished-text":"没有更多了"},model:{value:e.releaseForm.loading,callback:function(t){e.$set(e.releaseForm,"loading",t)},expression:"releaseForm.loading"}},e._l(e.releaseForm.list,(function(t){return n("van-panel",{key:t.change_id,staticClass:"omsp-panel"},[n("div",{attrs:{slot:"header"},slot:"header"}),n("div",{attrs:{slot:"default"},slot:"default"},[n("van-row",{staticStyle:{height:"85px"}},[n("van-col",{attrs:{span:"6"}},[n("van-checkbox",{key:t.change_id,ref:"checkboxes",refInFor:!0,staticStyle:{margin:"30%"},attrs:{name:t.change_id,disabled:""}})],1),n("van-col",{attrs:{span:"12"}},[n("p",{staticClass:"ellipsis2",staticStyle:{"font-size":"12px",color:"#969799"}},[e._v("\n                      "+e._s(t.change_id))]),n("p",{staticClass:"ellipsis2",staticStyle:{"font-size":"20px"}},[e._v(e._s(t.title))]),"01"===t.change_type?n("van-tag",{attrs:{type:"primary"}},[e._v("标准变更")]):e._e(),"02"===t.change_type?n("van-tag",{attrs:{type:"warning"}},[e._v("紧急变更")]):e._e(),"03"===t.change_type?n("van-tag",{attrs:{type:"danger"}},[e._v("重大变更")]):e._e(),"03"===t.source?n("van-tag",{attrs:{mark:"",type:"success"}},[e._v("来源:变更创建")]):e._e(),"02"===t.source?n("van-tag",{attrs:{mark:"",type:"success"}},[e._v("来源:问题管理")]):e._e(),"01"===t.source?n("van-tag",{attrs:{mark:"",type:"success"}},[e._v("来源:事件管理")]):e._e()],1),n("van-col",{attrs:{span:"6"}},[n("p",{staticClass:"ellipsis2",staticStyle:{"font-size":"12px",color:"#969799","margin-top":"20px"}},[e._v("申请人：")]),n("p",{staticClass:"ellipsis2",staticStyle:{"font-size":"12px",color:"#969799"}},[e._v("\n                      "+e._s(t.applicant))])])],1)],1)])})),1)],1)],1)],1)],1):e._e()])},V=[],U=(n("8e6e"),n("456d"),n("9753"),n("417e")),H=(n("6370"),n("3acc")),J=(n("93b0"),n("2bdd")),W=(n("aa1f"),n("ea47")),K=n("a156");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y,Q={name:"TaskForm",components:(x={OmspEditor:K["a"]},Object(o["a"])(x,D["a"].name,D["a"]),Object(o["a"])(x,C["a"].name,C["a"]),Object(o["a"])(x,I["a"].name,I["a"]),Object(o["a"])(x,W["a"].name,W["a"]),Object(o["a"])(x,J["a"].name,J["a"]),Object(o["a"])(x,H["a"].name,H["a"]),Object(o["a"])(x,U["a"].name,U["a"]),Object(o["a"])(x,B["a"].name,B["a"]),Object(o["a"])(x,z["a"].name,z["a"]),Object(o["a"])(x,E["a"].name,E["a"]),x),props:{bsid:{type:String,default:""},bizCode:{type:String,default:""}},data:function(){return{codeList:{username:"",userid:"",originList:[],urgencyList:[],categoryList:[],incidentLevelList:[],teamList:[],targetSysList:[],occurFrequencyList:[],changeTypeList:[]},incidentForm:{title:"",occurDate:"",username:"",creatUserTel:"",origin:"",showOriginSelectorFlag:!1,originLoading:!0,originSelector:[],originList:[],urgency:"",showUrgencySelectorFlag:!1,urgencyLoading:!0,urgencySelector:[],urgencyList:[],category:"",showCategorySelectorFlag:!1,categoryLoading:!0,categorySelector:[],categoryList:[],incidentLevel:"",showIncidentLevelSelectorFlag:!1,incidentLevelLoading:!0,incidentLevelSelector:[],incidentLevelList:[],team:"",showTeamSelectorFlag:!1,teamLoading:!0,teamSelector:[],teamList:[],showTargetSysSelectorFlag:!1,targetSysSelector:[],targetSysId:"",targetSys:"",targetSysLoading:!0,targetSysList:[],editorData:""},problemForm:{title:"",registe_date:"",register:"",registe_phone:"",category:"",categoryName:"",urgency:"",urgencyName:"",team_id:"",teamName:"",target_sys:"",target_sys_name:"",occur_frequency:"",occur_frequency_name:"",again_occur_risk:"",description:""},changeForm:{title:"",applicant:"",applicant_phone:"",change_type:"",change_type_name:"",urgency:"",urgencyName:"",orgid:"",originName:"",team_id:"",team_name:"",target_sys:"",target_sys_name:"",category:"",categoryName:"",effect_scope:"",change_plan:"",change_desc:""},releaseForm:{title:"",release_user:"",release_date:"",orgid:"",originName:"",team_id:"",team_name:"",target_sys:"",target_sys_name:"",urgency:"",urgencyName:"",package_name:"",package_version:"",target_server:"",checkBoxResult:[],loading:!1,loadFinish:!0,list:[]}}},computed:{taskType:function(){return this.$OmspConfig.getTaskType(this.bizCode)}},watch:{bsid:{handler:function(e){e&&this.init()},immediate:!0}},mounted:function(){},methods:{getTargetSysList:function(e){return this.$OmspRequest.sendRequest({url:"/appTaskRestService/getTargetSys",data:{team_id:e}})},getCodeList:function(){var e,t=this;return 1===this.taskType?e="/appTaskRestService/getTaskBasicInfo":2===this.taskType?e="/appProblemRestService/getProblemBasicInfo":3===this.taskType?e="/appChangeRestService/getChangeBasicInfo":4===this.taskType&&(e="/appReleaseRestService/getReleaseBasicInfo"),this.$OmspRequest.sendRequest({url:e}).then((function(e){t.codeList=G({},e.data)})).catch((function(e){JSON.stringify(e),Object(r["a"])("加载码值失败")})).finally((function(){}))},getIncidentFormData:function(e){var t=this;setTimeout((function(){t.$OmspRequest.sendRequest({url:"/appTaskRestService/getIncident",data:{id:e}}).then((function(e){var n=JSON.parse(e.data.incidentData);t.incidentForm.username=t.codeList.username,t.incidentForm.targetSysId=n.target_sys,t.incidentForm.title=n.title,t.incidentForm.occurDate=n.occur_date,t.incidentForm.creatUserTel=n.applicant_phone,t.incidentForm.origin=t.codeList.originList.find((function(e){return n.orgid===e.id})),t.incidentForm.origin||(t.incidentForm.origin={id:n.orgid,name:n.orgname}),t.incidentForm.category=t.codeList.categoryList.find((function(e){return n.category===e.id}))||"",t.incidentForm.urgency=t.codeList.urgencyList.find((function(e){return n.urgency===e.id})),t.incidentForm.incidentLevel=t.codeList.incidentLevelList.find((function(e){return n.incident_level===e.id})),t.incidentForm.incidentLevel=t.codeList.incidentLevelList.find((function(e){return n.incident_level===e.id})),t.incidentForm.team=t.codeList.teamList.find((function(e){return e.id===n.team_id})),t.getTargetSysList(t.incidentForm.team.id).then((function(e){t.codeList.targetSysList=e.data.targetSysList,t.incidentForm.targetSys=t.codeList.targetSysList.find((function(e){return t.incidentForm.targetSysId===e.id}))})),t.incidentForm.editorData=n.description})).catch((function(e){JSON.stringify(e),console.log(e),r["a"].fail("加载表单数据失败")})).finally((function(){}))}),0)},getProblemFormData:function(e){var t=this;this.$OmspRequest.sendRequest({url:"/appProblemRestService/getProblem",data:{id:e}}).then((function(e){var n=JSON.parse(e.data.result);t.problemForm=G(G({},t.problemForm),n),t.problemForm.categoryName=t.codeList.categoryList.find((function(e){return e.id===n.category})).name,t.problemForm.urgencyName=t.codeList.categoryList.find((function(e){return e.id===n.urgency})).name,t.problemForm.teamName=t.codeList.teamList.find((function(e){return e.id===n.team_id})).name,t.getTargetSysList(t.problemForm.team_id).then((function(e){t.codeList.targetSysList=e.data.targetSysList,t.problemForm.target_sys_name=t.codeList.targetSysList.find((function(e){return t.problemForm.target_sys===e.id})).name}));var a=t.codeList.occurFrequencyList.find((function(e){return e.id===n.occur_frequency}));t.problemForm.occur_frequency_name=a?a.name:""}))},getChangeFormData:function(e){var t=this;this.$OmspRequest.sendRequest({url:"/appChangeRestService/getChange",data:{id:e}}).then((function(e){var n=JSON.parse(e.data.result);t.changeForm=G(G({},t.changeForm),n),t.changeForm.change_type_name=t.codeList.changeTypeList.find((function(e){return e.id===t.changeForm.change_type})).name,t.changeForm.urgencyName=t.codeList.urgencyList.find((function(e){return e.id===t.changeForm.urgency})).name,t.changeForm.originName=t.codeList.originList.find((function(e){return e.id===t.changeForm.orgid})).name,t.changeForm.team_name=t.codeList.teamList.find((function(e){return e.id===t.changeForm.team_id})).name,t.getTargetSysList(t.changeForm.team_id).then((function(e){t.codeList.targetSysList=e.data.targetSysList,t.changeForm.target_sys_name=t.codeList.targetSysList.find((function(e){return t.changeForm.target_sys===e.id})).name})),t.changeForm.categoryName=t.codeList.categoryList.find((function(e){return e.id===t.changeForm.category})).name}))},getReleaseFormData:function(e){var t=this;this.$OmspRequest.sendRequest({url:"/appReleaseRestService/getRelease",data:{id:e}}).then((function(e){var n=JSON.parse(e.data.result);t.releaseForm=G(G({},t.releaseForm),n),t.releaseForm.originName=t.codeList.originList.find((function(e){return e.id===t.releaseForm.orgid})).name,t.releaseForm.team_name=t.codeList.teamList.find((function(e){return e.id===t.releaseForm.team_id})).name,t.getTargetSysList(t.releaseForm.team_id).then((function(e){t.codeList.targetSysList=e.data.targetSysList,t.releaseForm.target_sys_name=t.codeList.targetSysList.find((function(e){return t.releaseForm.target_sys===e.id})).name})),t.releaseForm.urgencyName=t.codeList.urgencyList.find((function(e){return e.id===t.releaseForm.urgency})).name,t.releaseForm.list=t.releaseForm.release_obj_list.filter((function(e){return!!e.change_id})),t.releaseForm.checkBoxResult=t.releaseForm.list.map((function(e){return e.change_id}))}))},init:function(){var e=this;this.getCodeList().then((function(){1===e.taskType?e.getIncidentFormData(e.bsid):2===e.taskType?e.getProblemFormData(e.bsid):3===e.taskType?e.getChangeFormData(e.bsid):4===e.taskType&&e.getReleaseFormData(e.bsid)}))}}},X=Q,Z=n("2877"),ee=Object(Z["a"])(X,A,V,!1,null,"239e136a",null),te=ee.exports,ne=n("0ed4"),ae=n("56a5");function ie(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=re(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function re(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var se={name:"TaskDetail",components:(Y={ProcessProgress:ae["a"],TaskForm:te},Object(o["a"])(Y,q["a"].name,q["a"]),Object(o["a"])(Y,B["a"].name,B["a"]),Object(o["a"])(Y,z["a"].name,z["a"]),Object(o["a"])(Y,E["a"].name,E["a"]),Object(o["a"])(Y,R["a"].name,R["a"]),Object(o["a"])(Y,P["a"].name,P["a"]),Object(o["a"])(Y,I["a"].name,I["a"]),Object(o["a"])(Y,T["a"].name,T["a"]),Object(o["a"])(Y,D["a"].name,D["a"]),Object(o["a"])(Y,C["a"].name,C["a"]),Object(o["a"])(Y,N["a"].name,N["a"]),Object(o["a"])(Y,$["a"].name,$["a"]),Object(o["a"])(Y,j["a"].name,j["a"]),Object(o["a"])(Y,L["a"].name,L["a"]),Object(o["a"])(Y,$["a"].name,$["a"]),Object(o["a"])(Y,N["a"].name,N["a"]),Object(o["a"])(Y,w["a"].name,w["a"]),Object(o["a"])(Y,O.name,O),Object(o["a"])(Y,u["a"].name,u["a"]),Object(o["a"])(Y,d["a"].name,d["a"]),Object(o["a"])(Y,l["a"].name,l["a"]),Object(o["a"])(Y,c["a"].name,c["a"]),Object(o["a"])(Y,s["a"].name,s["a"]),Object(o["a"])(Y,"TaskFile",ne["a"]),Y),props:{formData:Object,type:{type:Number,required:!0},task:Object},data:function(){return{tabNum:0,nodeName:"",nodeUserName:"",opinionsTextarea:{maxHeight:150,minHeight:50},nodeUserIndex:"",description:"",oldDescription:"",operationForm:[{showing:!1,required:!0,key:"nextNode",name:"下一步节点",value:"",zhValue:"",selector:!0,selectShowing:!1},{showing:!1,required:!1,key:"nodeUser",name:"下一步可办人",value:"",zhValue:"",selector:!0,selectShowing:!1},{showing:!1,required:!0,key:"ISPASS",name:"是否通过",value:"1",zhValue:"",selector:!1,selectShowing:!1},{showing:!1,required:!0,key:"ISRELEASE",name:"是否发布",value:"",zhValue:"",selector:!1,selectShowing:!1},{showing:!0,required:!0,key:"aduitIdea",name:"意见",value:"",zhValue:"",selector:!1,selectShowing:!1}]}},computed:{nextNodeList:function(){for(var e=[],t=0;t<this.formData.nextNode.length;t++)e.push({text:this.formData.nextNode[t].name,value:this.formData.nextNode[t].id});return e}},watch:{"formData.actionIdArray":{handler:function(e){var t=this,n=e;n&&n.length>0&&n.forEach((function(e){var n=t.operationForm.find((function(t){return t.key===e}));n&&(n.showing=!0)}))},immediate:!0}},methods:{checkForm:function(){var e,t=!0,n=ie(this.operationForm);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.showing&&a.required&&!a.value){r["a"].fail("".concat(a.name,"为必填")),t=!1;break}}}catch(i){n.e(i)}finally{n.f()}return t},commitOpinions:function(){if(this.checkForm()){var e=[];this.operationForm.forEach((function(t){t.showing&&(e.push([t.key,t.value]),t.selector&&t.value!==t.zhValue&&e.push(["".concat(t.key,"_desc"),t.zhValue]))})),this.$emit("commit",Object.fromEntries(e))}},changeNextNode:function(e,t){this.operationForm[0].selectShowing=!1,this.operationForm[0].zhValue=this.formData.nextNodeList[t].name,this.operationForm[0].value=this.formData.nextNodeList[t].id,this.$emit("changeNextNode",t)},checkNextUser:function(e,t){this.operationForm[1].selectShowing=!1,this.operationForm[1].zhValue=this.formData.nodeUserList[t].name,this.operationForm[1].value=this.formData.nodeUserList[t].id},checkIsPass:function(e){this.operationForm[2].value=e},checkIsRelease:function(e){this.operationForm[3].value=e},confirmDelUser:function(e,t){this.formData.delUser=this.formData.delUserList[t],this.showDelUserSelectorFlag=!1},confirmSatisfaction:function(e,t){this.formData.satisfaction=this.formData.satisfactionList[t],this.showSatisfactionSelectorFlag=!1},derivativeProblem:function(){this.$emit("derivativeProblem")},derivativeChange:function(){this.$emit("derivativeChange")},fnFindIndexOperationByKey:function(e){return this.operationForm.findIndex((function(t){return t.key===e}))}}},ce=se,le=(n("a62f"),Object(Z["a"])(ce,a,i,!1,null,"2ae0fb91",null));t["a"]=le.exports},"0a26":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ad06"),i=n("78eb"),r=n("9884"),o=n("ea8e"),s=function(e){var t=e.parent,n=e.bem,s=e.role;return{mixins:[Object(r["a"])(t),i["a"]],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var e=this.checkedColor||this.parent&&this.parent.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}},tabindex:function(){return this.isDisabled||"radio"===s&&!this.checked?-1:0}},methods:{onClick:function(e){var t=this,n=e.target,a=this.$refs.icon,i=a===n||a.contains(n);this.isDisabled||!i&&this.labelDisabled?this.$emit("click",e):(this.toggle(),setTimeout((function(){t.$emit("click",e)})))},genIcon:function(){var e=this.$createElement,t=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return e("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:t}]),style:{fontSize:Object(o["a"])(i)}},[this.slots("icon",{checked:t})||e(a["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var e=this.$createElement,t=this.slots();if(t)return e("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[t])}},render:function(){var e=arguments[0],t=[this.genIcon()];return"left"===this.labelPosition?t.unshift(this.genLabel()):t.push(this.genLabel()),e("div",{attrs:{role:s,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[t])}}}},"0bfb":function(e,t,n){"use strict";var a=n("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d35":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{position:"relative",padding:"10px",margin:"10px 10px","background-color":"#ffffff",border:"1px solid #f3f3f3","border-radius":"4px","box-shadow":"0px 0px 8px #dae4f7"}},[e._t("default")],2)])},i=[],r={name:"OmspPanel"},o=r,s=n("2877"),c=Object(s["a"])(o,a,i,!1,null,null,null);t["a"]=c.exports},"0ece":function(e,t,n){},"1c4c":function(e,t,n){"use strict";var a=n("9b43"),i=n("5ca1"),r=n("4bf8"),o=n("1fa8"),s=n("33a4"),c=n("9def"),l=n("f1ae"),d=n("27ee");i(i.S+i.F*!n("5cc5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,u,m=r(e),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,g=void 0!==h,b=0,v=d(m);if(g&&(h=a(h,f>2?arguments[2]:void 0,2)),void 0==v||p==Array&&s(v))for(t=c(m.length),n=new p(t);t>b;b++)l(n,b,g?h(m[b],b):m[b]);else for(u=v.call(m),n=new p;!(i=u.next()).done;b++)l(n,b,g?o(u,h,[i.value,b],!0):i.value);return n.length=b,n}})},"237a":function(e,t,n){},2464:function(e,t,n){},"2bdd":function(e,t,n){"use strict";var a=n("d282"),i=n("02de"),r=n("a8c1"),o=n("5fbe"),s=n("543e"),c=Object(a["a"])("list"),l=c[0],d=c[1],u=c[2];t["a"]=l({mixins:[Object(o["a"])((function(e){this.scroller||(this.scroller=Object(r["d"])(this.$el)),e(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var e=this;this.$nextTick((function(){if(!(e.innerLoading||e.finished||e.error)){var t,n=e.$el,a=e.scroller,r=e.offset,o=e.direction;t=a.getBoundingClientRect?a.getBoundingClientRect():{top:0,bottom:a.innerHeight};var s=t.bottom-t.top;if(!s||Object(i["a"])(n))return!1;var c=!1,l=e.$refs.placeholder.getBoundingClientRect();c="up"===o?t.top-l.top<=r:l.bottom-t.bottom<=r,c&&(e.innerLoading=!0,e.$emit("input",!0),e.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var e=this.$createElement;if(this.innerLoading&&!this.finished)return e("div",{class:d("loading"),key:"loading"},[this.slots("loading")||e(s["a"],{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var e=this.$createElement;if(this.finished){var t=this.slots("finished")||this.finishedText;if(t)return e("div",{class:d("finished-text")},[t])}},genErrorText:function(){var e=this.$createElement;if(this.error){var t=this.slots("error")||this.errorText;if(t)return e("div",{on:{click:this.clickErrorText},class:d("error-text")},[t])}}},render:function(){var e=arguments[0],t=e("div",{ref:"placeholder",class:d("placeholder")});return e("div",{class:d(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():t,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():t])}})},"2d6d":function(e,t,n){"use strict";var a=n("d282"),i=n("a142"),r=n("a8c1"),o=n("9884"),s=n("b222"),c=Object(a["a"])("dropdown-menu"),l=c[0],d=c[1];t["a"]=l({mixins:[Object(o["b"])("vanDropdownMenu"),Object(s["a"])({event:"click",method:"onClickOutside"})],props:{zIndex:[Number,String],activeColor:String,overlay:{type:Boolean,default:!0},duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},computed:{scroller:function(){return Object(r["d"])(this.$el)},opened:function(){return this.children.some((function(e){return e.showWrapper}))},barStyle:function(){if(this.opened&&Object(i["b"])(this.zIndex))return{zIndex:1+this.zIndex}}},methods:{updateOffset:function(){if(this.$refs.bar){var e=this.$refs.bar.getBoundingClientRect();"down"===this.direction?this.offset=e.bottom:this.offset=window.innerHeight-e.top}},toggleItem:function(e){this.children.forEach((function(t,n){n===e?t.toggle():t.showPopup&&t.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(e){e.toggle(!1)}))}},render:function(){var e=this,t=arguments[0],n=this.children.map((function(n,a){return t("div",{attrs:{role:"button",tabindex:n.disabled?-1:0},class:d("item",{disabled:n.disabled}),on:{click:function(){n.disabled||e.toggleItem(a)}}},[t("span",{class:[d("title",{active:n.showPopup,down:n.showPopup===("down"===e.direction)}),n.titleClass],style:{color:n.showPopup?e.activeColor:""}},[t("div",{class:"van-ellipsis"},[n.slots("title")||n.displayTitle])])])}));return t("div",{class:d()},[t("div",{ref:"bar",style:this.barStyle,class:d("bar",{opened:this.opened})},[n]),this.slots("default")])}})},"37c8":function(e,t,n){t.f=n("2b4c")},"37ff":function(e,t,n){},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3a72":function(e,t,n){var a=n("7726"),i=n("8378"),r=n("2d00"),o=n("37c8"),s=n("86cc").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=r?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},"3acc":function(e,t,n){"use strict";var a=n("d282"),i=n("78eb"),r=n("9884"),o=Object(a["a"])("checkbox-group"),s=o[0],c=o[1];t["a"]=s({mixins:[Object(r["b"])("vanCheckbox"),i["a"]],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(e){this.$emit("change",e)}},methods:{toggleAll:function(e){if(!1!==e){var t=this.children;e||(t=t.filter((function(e){return!e.checked})));var n=t.map((function(e){return e.name}));this.$emit("input",n)}else this.$emit("input",[])}},render:function(){var e=arguments[0];return e("div",{class:c([this.direction])},[this.slots()])}})},"417e":function(e,t,n){"use strict";var a=n("d282"),i=n("0a26"),r=Object(a["a"])("checkbox"),o=r[0],s=r[1];t["a"]=o({mixins:[Object(i["a"])({bem:s,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(e){this.parent?this.setParentValue(e):this.$emit("input",e)}}},watch:{value:function(e){this.$emit("change",e)}},methods:{toggle:function(e){var t=this;void 0===e&&(e=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){t.checked=e}))},setParentValue:function(e){var t=this.parent,n=t.value.slice();if(e){if(t.max&&n.length>=t.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),t.$emit("input",n))}else{var a=n.indexOf(this.name);-1!==a&&(n.splice(a,1),t.$emit("input",n))}}}})},"510b":function(e,t,n){"use strict";var a=n("d282"),i=n("9884"),r=Object(a["a"])("steps"),o=r[0],s=r[1];t["a"]=o({mixins:[Object(i["b"])("vanSteps")],props:{activeColor:String,inactiveIcon:String,active:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},activeIcon:{type:String,default:"checked"}},render:function(){var e=arguments[0];return e("div",{class:s([this.direction])},[e("div",{class:s("items")},[this.slots()])])}})},"56a5":function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("process",{attrs:{list:e.list}})},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("omsp-panel",[n("van-row",[n("van-col",{attrs:{span:"24"}},[e._v("\n      流程进度\n    ")])],1),n("van-steps",{attrs:{direction:"vertical",active:e.list.length-1,"active-color":"#1A88E9","active-icon":"stop-circle"}},e._l(e.list,(function(t){return n("van-step",{key:t.taskId},[n("div",{attrs:{slot:"inactive-icon"},slot:"inactive-icon"},[n("van-icon",{attrs:{name:"checked",color:"#1A88E9"}})],1),n("h3",[e._v(e._s(t.nodename))]),t.name?n("p",[e._v("经办人："+e._s(t.name))]):e._e(),t.opinions?n("p",[e._v("经办意见："+e._s(t.opinions))]):e._e(),t.start_time_?n("p",[e._v("开始时间："+e._s(t.start_time_))]):e._e(),t.end_time_?n("p",[e._v("结束时间："+e._s(t.end_time_))]):e._e()])})),1)],1)},s=[],c=n("bd86"),l=(n("b342"),n("ad06")),d=(n("76aa"),n("510b")),u=(n("8244"),n("dc0f")),m=(n("47d1"),n("9ffb")),p=(n("4bc8"),n("d1e1")),f=n("0d35"),h={name:"Process",components:(a={OmspPanel:f["a"]},Object(c["a"])(a,p["a"].name,p["a"]),Object(c["a"])(a,m["a"].name,m["a"]),Object(c["a"])(a,u["a"].name,u["a"]),Object(c["a"])(a,d["a"].name,d["a"]),Object(c["a"])(a,l["a"].name,l["a"]),a),props:{list:{type:Array,default:function(){return[]}}}},g=h,b=n("2877"),v=Object(b["a"])(g,o,s,!1,null,"00f5a817",null),y=v.exports,F={name:"ProcessProgress",components:{Process:y},props:{processId:{type:String,default:""}},data:function(){return{list:[]}},watch:{processId:{handler:function(e,t){e&&this.getHistory()},immediate:!0}},methods:{getHistory:function(){var e=this;this.$OmspRequest.sendRequest({url:"/appCustomProcessRestService/getHistory",data:{processInstanceid:this.processId}}).then((function(t){var n=t.data.taskHistory;e.list=n}))}}},k=F,_=Object(b["a"])(k,i,r,!1,null,"c139e68a",null);t["a"]=_.exports},"5df3":function(e,t,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})}))},"608d":function(e,t,n){"use strict";n("3cd0"),n("1a44"),n("acc2"),n("ce04")},6370:function(e,t,n){"use strict";n("3cd0"),n("64d7")},"64d7":function(e,t,n){},"67ab":function(e,t,n){var a=n("ca5a")("meta"),i=n("d3f4"),r=n("69a8"),o=n("86cc").f,s=0,c=Object.isExtensible||function(){return!0},l=!n("79e5")((function(){return c(Object.preventExtensions({}))})),d=function(e){o(e,a,{value:{i:"O"+ ++s,w:{}}})},u=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,a)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[a].i},m=function(e,t){if(!r(e,a)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[a].w},p=function(e){return l&&f.NEED&&c(e)&&!r(e,a)&&d(e),e},f=e.exports={KEY:a,NEED:!1,fastKey:u,getWeak:m,onFreeze:p}},"6b54":function(e,t,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),r=n("9e1e"),o="toString",s=/./[o],c=function(e){n("2aba")(RegExp.prototype,o,e,!0)};n("79e5")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?i.call(e):void 0)})):s.name!=o&&c((function(){return s.call(this)}))},"6f08":function(e,t,n){},"76aa":function(e,t,n){"use strict";n("3cd0"),n("237a")},"7bbc":function(e,t,n){var a=n("6821"),i=n("9093").f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?s(e):i(a(e))}},8244:function(e,t,n){"use strict";n("3cd0"),n("1a44"),n("acc2"),n("c8b5")},"8a81":function(e,t,n){"use strict";var a=n("7726"),i=n("69a8"),r=n("9e1e"),o=n("5ca1"),s=n("2aba"),c=n("67ab").KEY,l=n("79e5"),d=n("5537"),u=n("7f20"),m=n("ca5a"),p=n("2b4c"),f=n("37c8"),h=n("3a72"),g=n("d4c0"),b=n("1169"),v=n("cb7c"),y=n("d3f4"),F=n("4bf8"),k=n("6821"),_=n("6a99"),S=n("4630"),x=n("2aeb"),O=n("7bbc"),w=n("11e9"),L=n("2621"),j=n("86cc"),$=n("0d58"),N=w.f,C=j.f,D=O.f,T=a.Symbol,I=a.JSON,P=I&&I.stringify,R="prototype",E=p("_hidden"),z=p("toPrimitive"),B={}.propertyIsEnumerable,q=d("symbol-registry"),A=d("symbols"),V=d("op-symbols"),U=Object[R],H="function"==typeof T&&!!L.f,J=a.QObject,W=!J||!J[R]||!J[R].findChild,K=r&&l((function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=N(U,t);a&&delete U[t],C(e,t,n),a&&e!==U&&C(U,t,a)}:C,M=function(e){var t=A[e]=x(T[R]);return t._k=e,t},G=H&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},Y=function(e,t,n){return e===U&&Y(V,t,n),v(e),t=_(t,!0),v(n),i(A,t)?(n.enumerable?(i(e,E)&&e[E][t]&&(e[E][t]=!1),n=x(n,{enumerable:S(0,!1)})):(i(e,E)||C(e,E,S(1,{})),e[E][t]=!0),K(e,t,n)):C(e,t,n)},Q=function(e,t){v(e);var n,a=g(t=k(t)),i=0,r=a.length;while(r>i)Y(e,n=a[i++],t[n]);return e},X=function(e,t){return void 0===t?x(e):Q(x(e),t)},Z=function(e){var t=B.call(this,e=_(e,!0));return!(this===U&&i(A,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(A,e)||i(this,E)&&this[E][e])||t)},ee=function(e,t){if(e=k(e),t=_(t,!0),e!==U||!i(A,t)||i(V,t)){var n=N(e,t);return!n||!i(A,t)||i(e,E)&&e[E][t]||(n.enumerable=!0),n}},te=function(e){var t,n=D(k(e)),a=[],r=0;while(n.length>r)i(A,t=n[r++])||t==E||t==c||a.push(t);return a},ne=function(e){var t,n=e===U,a=D(n?V:k(e)),r=[],o=0;while(a.length>o)!i(A,t=a[o++])||n&&!i(U,t)||r.push(A[t]);return r};H||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=m(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(V,n),i(this,E)&&i(this[E],e)&&(this[E][e]=!1),K(this,e,S(1,n))};return r&&W&&K(U,e,{configurable:!0,set:t}),M(e)},s(T[R],"toString",(function(){return this._k})),w.f=ee,j.f=Y,n("9093").f=O.f=te,n("52a7").f=Z,L.f=ne,r&&!n("2d00")&&s(U,"propertyIsEnumerable",Z,!0),f.f=function(e){return M(p(e))}),o(o.G+o.W+o.F*!H,{Symbol:T});for(var ae="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ae.length>ie;)p(ae[ie++]);for(var re=$(p.store),oe=0;re.length>oe;)h(re[oe++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return i(q,e+="")?q[e]:q[e]=T(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in q)if(q[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!H,"Object",{create:X,defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var se=l((function(){L.f(1)}));o(o.S+o.F*se,"Object",{getOwnPropertySymbols:function(e){return L.f(F(e))}}),I&&o(o.S+o.F*(!H||l((function(){var e=T();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){var t,n,a=[e],i=1;while(arguments.length>i)a.push(arguments[i++]);if(n=t=a[1],(y(t)||void 0!==e)&&!G(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),a[1]=t,P.apply(I,a)}}),T[R][z]||n("32e9")(T[R],z,T[R].valueOf),u(T,"Symbol"),u(Math,"Math",!0),u(a.JSON,"JSON",!0)},"93b0":function(e,t,n){"use strict";n("3cd0"),n("25bb"),n("37ff")},9753:function(e,t,n){"use strict";n("3cd0"),n("1a44"),n("acc2"),n("2464")},"97b2":function(e,t,n){},"9bfa":function(e,t,n){},"9ed2":function(e,t,n){"use strict";var a=n("2638"),i=n.n(a),r=n("d282"),o=n("ba31"),s=Object(r["a"])("divider"),c=s[0],l=s[1];function d(e,t,n,a){var r;return e("div",i()([{attrs:{role:"separator"},style:{borderColor:t.borderColor},class:l((r={dashed:t.dashed,hairline:t.hairline},r["content-"+t.contentPosition]=n.default,r))},Object(o["b"])(a,!0)]),[n.default&&n.default()])}d.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}},t["a"]=c(d)},"9f14":function(e,t,n){"use strict";var a=n("d282"),i=n("0a26"),r=Object(a["a"])("radio"),o=r[0],s=r[1];t["a"]=o({mixins:[Object(i["a"])({bem:s,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(e){(this.parent||this).$emit("input",e)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},a156:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ckeditor",e._b({attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}},"ckeditor",e.$attrs,!1))},i=[],r={name:"OmspEditor",components:{},props:{value:{type:String,default:""}},data:function(){return{editor:this.$OmspClassicEditor,editorData:"",editorConfig:{placeholder:"请输入······",toolbar:[]}}},watch:{value:function(e){this.editorData=e},editorData:function(e){this.$emit("input",e)}},mounted:function(){this.editorData=this.value}},o=r,s=n("2877"),c=Object(s["a"])(o,a,i,!1,null,"83061b96",null);t["a"]=c.exports},a247:function(e,t,n){"use strict";n("3cd0"),n("02ba")},a62f:function(e,t,n){"use strict";var a=n("9bfa"),i=n.n(a);i.a},ac4d:function(e,t,n){n("3a72")("asyncIterator")},c65f:function(e,t,n){"use strict";n("3cd0"),n("0ece")},c8b5:function(e,t,n){},ce04:function(e,t,n){},d314:function(e,t,n){"use strict";var a=n("d282"),i=n("1325"),r=n("1421"),o=n("9884"),s=n("7744"),c=n("ad06"),l=n("e41f"),d=Object(a["a"])("dropdown-item"),u=d[0],m=d[1];t["a"]=u({mixins:[Object(r["a"])({ref:"wrapper"}),Object(o["a"])("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var e=this;if(this.title)return this.title;var t=this.options.filter((function(t){return t.value===e.value}));return t.length?t[0].text:""}},watch:{showPopup:function(e){this.bindScroll(e)}},beforeCreate:function(){var e=this,t=function(t){return function(){return e.$emit(t)}};this.onOpen=t("open"),this.onClose=t("close"),this.onOpened=t("opened")},methods:{toggle:function(e,t){void 0===e&&(e=!this.showPopup),void 0===t&&(t={}),e!==this.showPopup&&(this.transition=!t.immediate,this.showPopup=e,e&&(this.parent.updateOffset(),this.showWrapper=!0))},bindScroll:function(e){var t=this.parent.scroller,n=e?i["b"]:i["a"];n(t,"scroll",this.onScroll,!0)},onScroll:function(){this.parent.updateOffset()},onClickWrapper:function(e){this.getContainer&&e.stopPropagation()}},render:function(){var e=this,t=arguments[0],n=this.parent,a=n.zIndex,i=n.offset,r=n.overlay,o=n.duration,d=n.direction,u=n.activeColor,p=n.closeOnClickOverlay,f=this.options.map((function(n){var a=n.value===e.value;return t(s["a"],{attrs:{clickable:!0,icon:n.icon,title:n.text},key:n.value,class:m("option",{active:a}),style:{color:a?u:""},on:{click:function(){e.showPopup=!1,n.value!==e.value&&(e.$emit("input",n.value),e.$emit("change",n.value))}}},[a&&t(c["a"],{class:m("icon"),attrs:{color:u,name:"success"}})])})),h={zIndex:a};return"down"===d?h.top=i+"px":h.bottom=i+"px",t("div",[t("div",{directives:[{name:"show",value:this.showWrapper}],ref:"wrapper",style:h,class:m([d]),on:{click:this.onClickWrapper}},[t(l["a"],{attrs:{overlay:r,position:"down"===d?"top":"bottom",duration:this.transition?o:0,closeOnClickOverlay:p,overlayStyle:{position:"absolute"}},class:m("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){e.showWrapper=!1,e.$emit("closed")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t}}},[f,this.slots("default")])])])}})},d4c0:function(e,t,n){var a=n("0d58"),i=n("2621"),r=n("52a7");e.exports=function(e){var t=a(e),n=i.f;if(n){var o,s=n(e),c=r.f,l=0;while(s.length>l)c.call(e,o=s[l++])&&t.push(o)}return t}},dc0f:function(e,t,n){"use strict";var a=n("d282"),i=n("b1d2"),r=n("9884"),o=n("ad06"),s=Object(a["a"])("step"),c=s[0],l=s[1];t["a"]=c({mixins:[Object(r["a"])("vanSteps")],computed:{status:function(){return this.index<this.parent.active?"finish":this.index===+this.parent.active?"process":void 0},active:function(){return"process"===this.status},lineStyle:function(){if("finish"===this.status&&this.parent.activeColor)return{background:this.parent.activeColor}}},methods:{genCircle:function(){var e=this.$createElement,t=this.parent,n=t.activeIcon,a=t.activeColor,i=t.inactiveIcon;if(this.active)return this.slots("active-icon")||e(o["a"],{class:l("icon","active"),attrs:{name:n,color:a}});var r=this.slots("inactive-icon");return i||r?r||e(o["a"],{class:l("icon"),attrs:{name:i}}):e("i",{class:l("circle"),style:this.lineStyle})},onClickStep:function(){this.parent.$emit("click-step",this.index)}},render:function(){var e,t=arguments[0],n=this.status,a=this.active,r=this.parent,o=r.activeColor,s=r.direction,c=a&&{color:o};return t("div",{class:[i["a"],l([s,(e={},e[n]=n,e)])]},[t("div",{class:l("title",{active:a}),style:c,on:{click:this.onClickStep}},[this.slots()]),t("div",{class:l("circle-container"),on:{click:this.onClickStep}},[this.genCircle()]),t("div",{class:l("line"),style:this.lineStyle})])}})},e27c:function(e,t,n){"use strict";var a=n("d282"),i=n("78eb"),r=n("9884"),o=Object(a["a"])("radio-group"),s=o[0],c=o[1];t["a"]=s({mixins:[Object(r["b"])("vanRadio"),i["a"]],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(e){this.$emit("change",e)}},render:function(){var e=arguments[0];return e("div",{class:c([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}})},e543:function(e,t,n){},e9a3:function(e,t,n){"use strict";n("3cd0"),n("1812"),n("1a44"),n("acc2"),n("01f7"),n("5e5e"),n("97b2")}}]);